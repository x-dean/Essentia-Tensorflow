{
  "app_settings": {
    "api": {
      "host": "0.0.0.0",
      "port": 8000,
      "workers": 1,
      "reload": false,
      "timeouts": {
        "default": 60,
        "analysis": 600,
        "faiss": 300,
        "discovery": 120
      },
      "cors": {
        "enabled": true,
        "origins": [
          "*"
        ],
        "methods": [
          "GET",
          "POST",
          "PUT",
          "DELETE"
        ],
        "headers": [
          "*"
        ]
      }
    },
    "discovery": {
      "background_enabled": false,
      "interval": 3600,
      "auto_scan_on_startup": true,
      "search_directories": [
        "/music",
        "/audio"
      ],
      "supported_extensions": [
        ".mp3",
        ".wav",
        ".flac",
        ".ogg",
        ".m4a",
        ".aac",
        ".wma",
        ".opus"
      ],
      "cache_ttl": 3600,
      "batch_size": 100,
      "hash_algorithm": "md5"
    },
    "paths": {
      "python_path": "/app/src",
      "data_directory": "/app/data",
      "cache_directory": "/app/cache",
      "logs_directory": "/app/logs"
    }
  },
  "analysis_config": {
    "performance": {
      "parallel_processing": {
        "max_workers": 8,
        "chunk_size": 25,
        "timeout_per_file": 600,
        "memory_limit_mb": 512
      },
      "caching": {
        "enable_cache": true,
        "cache_duration_hours": 24,
        "max_cache_size_mb": 1024
      },
      "optimization": {
        "use_ffmpeg_streaming": true,
        "smart_segmentation": true,
        "skip_existing_analysis": true,
        "batch_size": 100
      }
    },
    "essentia": {
      "audio_processing": {
        "sample_rate": 44100,
        "channels": 1,
        "frame_size": 2048,
        "hop_size": 1024,
        "window_type": "hann",
        "zero_padding": 0
      },
      "spectral_analysis": {
        "min_frequency": 20.0,
        "max_frequency": 8000.0,
        "n_mels": 96,
        "n_mfcc": 40,
        "n_spectral_peaks": 100,
        "silence_threshold": -60.0
      },
      "track_analysis": {
        "min_track_length": 1.0,
        "max_track_length": 7200.0,
        "chunk_duration": 45.0,
        "overlap_ratio": 0.5
      },
      "algorithms": {
        "enable_tensorflow": true,
        "enable_faiss": true,
        "enable_complex_rhythm": false,
        "enable_complex_harmonic": true,
        "enable_beat_tracking": true,
        "enable_tempo_tap": true,
        "enable_rhythm_extractor": true,
        "enable_pitch_analysis": true,
        "enable_chord_detection": true
      }
    },
    "tensorflow": {
      "models_directory": "models",
      "enable_musicnn": true,
      "enable_vggish": false,
      "enable_tempo_cnn": false,
      "enable_fsd_sinet": false,
      "musicnn_settings": {
        "input_frames": 187,
        "input_mels": 96,
        "sample_rate": 16000
      },
      "mood_analysis": {
        "enabled": true,
        "confidence_threshold": 0.3,
        "enable_valence_arousal": true,
        "enable_energy_level": true
      },
      "streaming": {
        "enabled": true,
        "chunk_duration": 30.0,
        "overlap_ratio": 0.5,
        "max_chunks": 5,
        "memory_limit_mb": 512
      }
    },
    "analysis_strategies": {
      "short_tracks": {
        "max_duration": 300,
        "strategy": "key_segments",
        "segments": [
          "beginning",
          "middle",
          "end"
        ],
        "segment_duration": 30
      },
      "medium_tracks": {
        "max_duration": 600,
        "strategy": "three_point",
        "segments": [
          "beginning",
          "quarter",
          "middle",
          "three_quarter",
          "end"
        ],
        "segment_duration": 30
      },
      "long_tracks": {
        "max_duration": 3600,
        "strategy": "strategic_points",
        "segments": [
          "beginning",
          "20_percent",
          "40_percent",
          "60_percent",
          "80_percent",
          "end"
        ],
        "segment_duration": 30
      }
    },
    "output": {
      "store_individual_columns": true,
      "store_complete_json": true,
      "compress_json": false,
      "include_segment_details": true,
      "include_processing_metadata": true
    },
    "quality": {
      "min_confidence_threshold": 0.3,
      "fallback_values": {
        "tempo": 120.0,
        "key": "C",
        "scale": "major",
        "key_strength": 0.0
      },
      "error_handling": {
        "continue_on_error": true,
        "log_errors": true,
        "retry_failed": false,
        "max_retries": 3
      }
    }
  },
  "database": {
    "database_url": "postgresql://playlist_user:playlist_password@postgres:5432/playlist_db",
    "pool_size": 25,
    "max_overflow": 35,
    "pool_timeout": 45,
    "pool_recycle": 7200,
    "retry_settings": {
      "max_retries": 3,
      "initial_delay": 1,
      "backoff_multiplier": 2,
      "max_delay": 30
    },
    "connection_timeout": 30
  },
  "logging": {
    "log_level": "DEBUG",
    "max_file_size": 20480,
    "max_backups": 10,
    "compress": true,
    "suppression": {
      "tensorflow": true,
      "essentia": true,
      "librosa": true,
      "matplotlib": true,
      "pil": true
    }
  },
  "faiss": {
    "index_name": "music_library",
    "vector_dimension": 128,
    "similarity_threshold": 0.8,
    "index_type": "ivf",
    "nlist": 100,
    "nprobe": 10,
    "training_vectors": 10000
  },
  "external_apis": {
    "musicbrainz": {
      "enabled": true,
      "rate_limit": 200.0,
      "timeout": 10,
      "user_agent": "PlaylistApp/1.0 (dean@example.com)"
    },
    "lastfm": {
      "enabled": true,
      "api_key": "2b07c1e8a2d308a749760ab8d579baa8",
      "base_url": "https://ws.audioscrobbler.com/2.0/",
      "rate_limit": 1.2,
      "timeout": 10
    },
    "discogs": {
      "enabled": true,
      "api_key": "fHtjqUtbbXdHMqMBqvblPvKpOCInINhDTUCHvgcS",
      "base_url": "https://api.discogs.com/",
      "rate_limit": 1.2,
      "timeout": 10,
      "user_agent": "PlaylistApp/1.0"
    }
  },
  "_metadata": {
    "version": "2.0",
    "last_updated": "2025-08-21T12:15:27.767716",
    "description": "Consolidated configuration file for Essentia-Tensorflow Playlist App"
  }
}